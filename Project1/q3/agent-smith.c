#include <stdint.h>
#include <stdio.h>
#include <string.h>

void display(const char *path)
{
  char msg[128];
  int8_t size;
  memset(msg, 0, 128);

  FILE *file = fopen(path, "r");
  size_t n = fread(&size, 1, 1, file);
  if (n == 0 || size > 128)
    return;
  n = fread(msg, 1, size, file);

  puts(msg);
}


int main(int argc, char *argv[])
{
  if (argc != 2)
    return 1;

  display(argv[1]);
  return 0;
}


   0x08048555 <+0>: push   %ebp
   0x08048556 <+1>: mov    %esp,%ebp
   0x08048558 <+3>: and    $0xfffffff0,%esp
   0x0804855b <+6>: sub    $0x10,%esp
   0x0804855e <+9>: cmpl   $0x2,0x8(%ebp)
   0x08048562 <+13>:  je     0x804856b <main+22>
   0x08048564 <+15>:  mov    $0x1,%eax
   0x08048569 <+20>:  jmp    0x8048580 <main+43>
   0x0804856b <+22>:  mov    0xc(%ebp),%eax
   0x0804856e <+25>:  add    $0x4,%eax
   0x08048571 <+28>:  mov    (%eax),%eax
   0x08048573 <+30>:  mov    %eax,(%esp)
   0x08048576 <+33>:  call   0x80484ac <display>
   0x0804857b <+38>:  mov    $0x0,%eax
   0x08048580 <+43>:  leave
   0x08048581 <+44>:  ret



0xbffff5f8: 0x41414141  0x41414141  0x41414141  0x41414141
0xbffff608: 0x41414141  0x41414141  0x41414141  0x4141410a
0xbffff618: 0x41414141  0x41414141  0x41414141  0x41414141
0xbffff628: 0x41414141  0x41414141  0x000a4141  0x00000000
0xbffff638: 0x00000000  0x00000000  0x00000000  0x00000000
0xbffff648: 0x00000000  0x00000000  0x00000000  0x00000000
0xbffff658: 0x00000000  0x00000000  0x00000000  0x00000000
0xbffff668: 0x00000000  0x00000000  0x00000000  0x00000000
0xbffff678: 0x0000003b  0x0804b008  0x00000002  0xbffff744
0xbffff688: 0xbffff6a8  0x0804857b  0xbffff842  0x00000000
0xbffff698: 0x08048599  0xb7fd2000  0x08048590  0x00000000
0xbffff6a8: 0x00000000  0xb7e454d3  0x00000002  0xbffff744
0xbffff6b8: 0xbffff750  0xb7fdc858  0x00000000  0xbffff71c
0xbffff6c8: 0xbffff750  0x00000000  0x0804824c  0xb7fd2000
0xbffff6d8: 0x00000000  0x00000000  0x00000000  0x90932013


0xbffff688 + 4 = 0xbffff68c + 4 = 0xbffff690 + 4 = 0xbffff694











